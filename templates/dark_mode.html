{% extends "base.html" %}

{% block title %}Dark Mode Example{% endblock %}

{% block content %}
    <!-- Dark Mode Toggle Button -->
    <button id="darkModeToggle" class="dark-mode-toggle" aria-label="Toggle Dark Mode">
        <span id="darkModeIcon">üåô</span>
    </button>

    <!-- Main Content -->
    <h1>Welcome to Dark Mode Example</h1>
    <p>Click the button in the top-right corner to toggle dark mode.</p>

    <!-- Dark Mode Info Section -->
    <div class="container">
        <h1>Dark Mode</h1>
        <p>This page demonstrates the dark mode toggle. Use the button in the top right to switch between light and dark mode.</p>
        <a href="{{ url_for('home') }}">Back to Home</a>
    </div>

    <script>
        // Check for saved dark mode preference
        document.addEventListener("DOMContentLoaded", () => {
            const darkModeToggle = document.getElementById("darkModeToggle");
            const darkModeIcon = document.getElementById("darkModeIcon");
            const isDarkMode = localStorage.getItem("darkMode") === "true";

            // Apply dark mode if saved in localStorage
            if (isDarkMode) {
                document.body.classList.add("dark-mode");
                darkModeIcon.textContent = "‚òÄÔ∏è"; // Set icon to sun
            }

            // Toggle dark mode on button click
            darkModeToggle.addEventListener("click", () => {
                document.body.classList.toggle("dark-mode");
                const isDarkMode = document.body.classList.contains("dark-mode");
                localStorage.setItem("darkMode", isDarkMode); // Save preference

                // Update the icon
                darkModeIcon.textContent = isDarkMode ? "‚òÄÔ∏è" : "üåô";
            });
        });
    </script>
{% endblock %}